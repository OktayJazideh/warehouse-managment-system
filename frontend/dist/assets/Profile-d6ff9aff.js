import{a as c,r as p,b as x,h as N,o as f,c as v,d as e,w as P,f as n,v as u,i as b,n as U,t as y,e as w}from"./index-8650e4e1.js";const V={class:"max-w-2xl"},M={class:"card"},S={class:"card-body"},k={class:"grid grid-cols-2 gap-4"},q=["value"],B=["value"],C={class:"flex justify-end"},D=["disabled"],_={__name:"Profile",setup(E){const l=c(),o=p(!1),a=p(null),t=x({firstName:"",lastName:"",email:""}),g=async()=>{o.value=!0,a.value=null;const i=await l.updateProfile(t);i.success?a.value={type:"success",text:"Profile updated successfully!"}:a.value={type:"error",text:i.message},o.value=!1,setTimeout(()=>{a.value=null},3e3)};return N(()=>{l.user&&(t.firstName=l.user.firstName,t.lastName=l.user.lastName,t.email=l.user.email)}),(i,s)=>{var d,m;return f(),v("div",null,[s[10]||(s[10]=e("div",{class:"mb-6"},[e("h1",{class:"text-2xl font-bold text-gray-900"},"Profile"),e("p",{class:"text-gray-600"},"Manage your account settings")],-1)),e("div",V,[e("div",M,[e("div",S,[s[9]||(s[9]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Personal Information",-1)),e("form",{onSubmit:P(g,["prevent"]),class:"space-y-4"},[e("div",k,[e("div",null,[s[3]||(s[3]=e("label",{class:"form-label"},"First Name",-1)),n(e("input",{"onUpdate:modelValue":s[0]||(s[0]=r=>t.firstName=r),type:"text",class:"form-input",required:""},null,512),[[u,t.firstName]])]),e("div",null,[s[4]||(s[4]=e("label",{class:"form-label"},"Last Name",-1)),n(e("input",{"onUpdate:modelValue":s[1]||(s[1]=r=>t.lastName=r),type:"text",class:"form-input",required:""},null,512),[[u,t.lastName]])])]),e("div",null,[s[5]||(s[5]=e("label",{class:"form-label"},"Email",-1)),n(e("input",{"onUpdate:modelValue":s[2]||(s[2]=r=>t.email=r),type:"email",class:"form-input",required:""},null,512),[[u,t.email]])]),e("div",null,[s[6]||(s[6]=e("label",{class:"form-label"},"Username",-1)),e("input",{value:(d=b(l).user)==null?void 0:d.username,type:"text",class:"form-input bg-gray-100",readonly:""},null,8,q),s[7]||(s[7]=e("p",{class:"text-sm text-gray-500 mt-1"},"Username cannot be changed",-1))]),e("div",null,[s[8]||(s[8]=e("label",{class:"form-label"},"Role",-1)),e("input",{value:(m=b(l).user)==null?void 0:m.role,type:"text",class:"form-input bg-gray-100",readonly:""},null,8,B)]),a.value?(f(),v("div",{key:0,class:U(["p-4 rounded-md",a.value.type==="success"?"bg-green-50 text-green-800":"bg-red-50 text-red-800"])},y(a.value.text),3)):w("",!0),e("div",C,[e("button",{type:"submit",disabled:o.value,class:"btn-primary"},y(o.value?"Updating...":"Update Profile"),9,D)])],32)])])])])}}};export{_ as default};
