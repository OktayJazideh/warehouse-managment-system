import{r as d,h as F,o as l,c as n,d as t,f as u,x as C,F as x,j as p,A as V,e as M,k as y,t as r,n as U}from"./index-8650e4e1.js";const W={class:"bg-white p-4 rounded-lg shadow mb-6"},A={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},B=["value"],N=["value"],$={class:"flex items-center"},q={class:"card"},D={class:"card-body overflow-x-auto"},O={class:"min-w-full divide-y divide-gray-200"},j={class:"bg-white divide-y divide-gray-200"},z={class:"px-6 py-4"},E={class:"text-sm font-medium text-gray-900"},Q={class:"text-sm text-gray-500"},R={class:"px-6 py-4 text-sm text-gray-900"},T={class:"px-6 py-4"},G={class:"text-sm font-medium text-gray-900"},H={class:"text-xs text-gray-500 ml-1"},J={class:"px-6 py-4 text-sm text-gray-900"},K={class:"px-6 py-4"},X={class:"px-6 py-4 text-sm text-gray-500"},Y={key:0,class:"text-center py-8 text-gray-500"},et={__name:"Inventory",setup(Z){const i=d([]),g=d([]),v=d([]),h=d(!1),a=d({warehouseId:"",categoryId:"",lowStock:!1}),m=(o,s)=>o<=0?{text:"Out of Stock",color:"bg-red-100 text-red-800"}:o<=s?{text:"Low Stock",color:"bg-yellow-100 text-yellow-800"}:{text:"In Stock",color:"bg-green-100 text-green-800"},c=async()=>{h.value=!0;try{const o=new URLSearchParams;a.value.warehouseId&&o.append("warehouseId",a.value.warehouseId),a.value.categoryId&&o.append("categoryId",a.value.categoryId),a.value.lowStock&&o.append("lowStock","true");const s=await y.get(`/inventory?${o}`);i.value=s.data.data.inventory}catch(o){console.error("Failed to load inventory:",o)}finally{h.value=!1}},L=async()=>{try{const o=await y.get("/warehouses");g.value=o.data.data.warehouses}catch(o){console.error("Failed to load warehouses:",o)}},P=async()=>{try{const o=await y.get("/categories");v.value=o.data.data.categories}catch(o){console.error("Failed to load categories:",o)}};return F(()=>{c(),L(),P()}),(o,s)=>(l(),n("div",null,[s[7]||(s[7]=t("div",{class:"mb-6"},[t("h1",{class:"text-2xl font-bold text-gray-900"},"Inventory"),t("p",{class:"text-gray-600"},"Track your stock levels across all warehouses")],-1)),t("div",W,[t("div",A,[t("div",null,[u(t("select",{"onUpdate:modelValue":s[0]||(s[0]=e=>a.value.warehouseId=e),class:"form-input",onChange:c},[s[3]||(s[3]=t("option",{value:""},"All Warehouses",-1)),(l(!0),n(x,null,p(g.value,e=>(l(),n("option",{key:e.id,value:e.id},r(e.name),9,B))),128))],544),[[C,a.value.warehouseId]])]),t("div",null,[u(t("select",{"onUpdate:modelValue":s[1]||(s[1]=e=>a.value.categoryId=e),class:"form-input",onChange:c},[s[4]||(s[4]=t("option",{value:""},"All Categories",-1)),(l(!0),n(x,null,p(v.value,e=>(l(),n("option",{key:e.id,value:e.id},r(e.name),9,N))),128))],544),[[C,a.value.categoryId]])]),t("div",null,[t("label",$,[u(t("input",{"onUpdate:modelValue":s[2]||(s[2]=e=>a.value.lowStock=e),type:"checkbox",class:"h-4 w-4 text-primary-600 border-gray-300 rounded",onChange:c},null,544),[[V,a.value.lowStock]]),s[5]||(s[5]=t("span",{class:"ml-2 text-sm text-gray-700"},"Low Stock Only",-1))])])])]),t("div",q,[t("div",D,[t("table",O,[s[6]||(s[6]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Product"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Warehouse"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Quantity"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Min Stock"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Location")])],-1)),t("tbody",j,[(l(!0),n(x,null,p(i.value,e=>{var f,w,_,k,S,I,b;return l(),n("tr",{key:`${e.productId}-${e.warehouseId}`},[t("td",z,[t("div",null,[t("div",E,r((f=e.Product)==null?void 0:f.name),1),t("div",Q,r((w=e.Product)==null?void 0:w.code),1)])]),t("td",R,r((_=e.Warehouse)==null?void 0:_.name),1),t("td",T,[t("span",G,r(e.quantity),1),t("span",H,r((k=e.Product)==null?void 0:k.unit),1)]),t("td",J,r((S=e.Product)==null?void 0:S.minStockLevel),1),t("td",K,[t("span",{class:U(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",m(e.quantity,(I=e.Product)==null?void 0:I.minStockLevel).color])},r(m(e.quantity,(b=e.Product)==null?void 0:b.minStockLevel).text),3)]),t("td",X,r(e.location||"-"),1)])}),128))])]),i.value.length===0?(l(),n("div",Y," No inventory data found ")):M("",!0)])])]))}};export{et as default};
