import{r as l,h as S,o as d,c as i,d as t,f as p,x as y,F as D,j as k,v as I,B as T,t as g,e as U,k as u}from"./index-8650e4e1.js";const $={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},V={class:"card"},j={class:"card-body"},F={class:"space-y-4"},L=["value"],B=["value"],A={class:"mt-6 flex space-x-3"},E={class:"card"},O={class:"card-body"},M={class:"space-y-4"},h={class:"mt-6 flex space-x-3"},N={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},G={class:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 shadow-lg rounded-md bg-white"},W={class:"flex justify-between items-center mb-4"},P={class:"max-h-96 overflow-y-auto"},z={class:"text-sm bg-gray-100 p-4 rounded"},H={__name:"Reports",setup(J){const b=l([]),f=l([]),v=l(!1),c=l(null),r=l({warehouseId:"",categoryId:""}),a=l({startDate:"",endDate:"",type:""}),w=async s=>{try{const e=new URLSearchParams;if(r.value.warehouseId&&e.append("warehouseId",r.value.warehouseId),r.value.categoryId&&e.append("categoryId",r.value.categoryId),e.append("format",s),s==="excel"){const o=await u.get(`/reports/inventory?${e}`,{responseType:"blob"}),m=window.URL.createObjectURL(new Blob([o.data])),n=document.createElement("a");n.href=m,n.setAttribute("download",`inventory-report-${new Date().toISOString().split("T")[0]}.xlsx`),document.body.appendChild(n),n.click(),n.remove()}else{const o=await u.get(`/reports/inventory?${e}`);c.value=o.data.data,v.value=!0}}catch(e){console.error("Failed to generate inventory report:",e)}},x=async s=>{try{const e=new URLSearchParams;if(a.value.startDate&&e.append("startDate",a.value.startDate),a.value.endDate&&e.append("endDate",a.value.endDate),a.value.type&&e.append("type",a.value.type),e.append("format",s),s==="excel"){const o=await u.get(`/reports/transactions?${e}`,{responseType:"blob"}),m=window.URL.createObjectURL(new Blob([o.data])),n=document.createElement("a");n.href=m,n.setAttribute("download",`transaction-report-${new Date().toISOString().split("T")[0]}.xlsx`),document.body.appendChild(n),n.click(),n.remove()}else{const o=await u.get(`/reports/transactions?${e}`);c.value=o.data.data,v.value=!0}}catch(e){console.error("Failed to generate transaction report:",e)}},R=async()=>{try{const s=await u.get("/warehouses");b.value=s.data.data.warehouses}catch(s){console.error("Failed to load warehouses:",s)}},C=async()=>{try{const s=await u.get("/categories");f.value=s.data.data.categories}catch(s){console.error("Failed to load categories:",s)}};return S(()=>{R(),C()}),(s,e)=>(d(),i("div",null,[e[24]||(e[24]=t("div",{class:"mb-6"},[t("h1",{class:"text-2xl font-bold text-gray-900"},"Reports"),t("p",{class:"text-gray-600"},"Generate and download reports")],-1)),t("div",$,[t("div",V,[t("div",j,[e[14]||(e[14]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Inventory Report",-1)),e[15]||(e[15]=t("p",{class:"text-sm text-gray-600 mb-4"},"Generate a detailed inventory report for all products across warehouses.",-1)),t("div",F,[t("div",null,[e[11]||(e[11]=t("label",{class:"form-label"},"Warehouse",-1)),p(t("select",{"onUpdate:modelValue":e[0]||(e[0]=o=>r.value.warehouseId=o),class:"form-input"},[e[10]||(e[10]=t("option",{value:""},"All Warehouses",-1)),(d(!0),i(D,null,k(b.value,o=>(d(),i("option",{key:o.id,value:o.id},g(o.name),9,L))),128))],512),[[y,r.value.warehouseId]])]),t("div",null,[e[13]||(e[13]=t("label",{class:"form-label"},"Category",-1)),p(t("select",{"onUpdate:modelValue":e[1]||(e[1]=o=>r.value.categoryId=o),class:"form-input"},[e[12]||(e[12]=t("option",{value:""},"All Categories",-1)),(d(!0),i(D,null,k(f.value,o=>(d(),i("option",{key:o.id,value:o.id},g(o.name),9,B))),128))],512),[[y,r.value.categoryId]])])]),t("div",A,[t("button",{onClick:e[2]||(e[2]=o=>w("json")),class:"btn-primary"}," View Report "),t("button",{onClick:e[3]||(e[3]=o=>w("excel")),class:"btn-secondary"}," Download Excel ")])])]),t("div",E,[t("div",O,[e[20]||(e[20]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Transaction Report",-1)),e[21]||(e[21]=t("p",{class:"text-sm text-gray-600 mb-4"},"Generate transaction reports for specific date ranges.",-1)),t("div",M,[t("div",null,[e[16]||(e[16]=t("label",{class:"form-label"},"Start Date",-1)),p(t("input",{"onUpdate:modelValue":e[4]||(e[4]=o=>a.value.startDate=o),type:"date",class:"form-input"},null,512),[[I,a.value.startDate]])]),t("div",null,[e[17]||(e[17]=t("label",{class:"form-label"},"End Date",-1)),p(t("input",{"onUpdate:modelValue":e[5]||(e[5]=o=>a.value.endDate=o),type:"date",class:"form-input"},null,512),[[I,a.value.endDate]])]),t("div",null,[e[19]||(e[19]=t("label",{class:"form-label"},"Transaction Type",-1)),p(t("select",{"onUpdate:modelValue":e[6]||(e[6]=o=>a.value.type=o),class:"form-input"},[...e[18]||(e[18]=[T('<option value="">All Types</option><option value="inbound">Inbound</option><option value="outbound">Outbound</option><option value="transfer">Transfer</option><option value="adjustment">Adjustment</option>',5)])],512),[[y,a.value.type]])])]),t("div",h,[t("button",{onClick:e[7]||(e[7]=o=>x("json")),class:"btn-primary"}," View Report "),t("button",{onClick:e[8]||(e[8]=o=>x("excel")),class:"btn-secondary"}," Download Excel ")])])])]),v.value?(d(),i("div",N,[t("div",G,[t("div",W,[e[23]||(e[23]=t("h3",{class:"text-lg font-medium"},"Report Results",-1)),t("button",{onClick:e[9]||(e[9]=o=>v.value=!1),class:"text-gray-400 hover:text-gray-600"},[...e[22]||(e[22]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t("div",P,[t("pre",z,g(JSON.stringify(c.value,null,2)),1)])])])):U("",!0)]))}};export{H as default};
